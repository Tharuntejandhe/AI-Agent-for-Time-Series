{"ast":null,"code":"import _objectSpread from\"C:/Users/ksath/OneDrive/Desktop/react/AI-Agent-for-Time-Series/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{FaEdit}from\"react-icons/fa\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='http://localhost:8000/api/products';const AdminProducts=()=>{const[products,setProducts]=useState([]);const[editId,setEditId]=useState(null);const[editStock,setEditStock]=useState('');const[editName,setEditName]=useState(\"\");const[editProductId,setEditProductId]=useState(\"\");useEffect(()=>{fetch(API_URL).then(res=>res.json()).then(data=>setProducts(data));},[]);const handleDelete=id=>{fetch(\"\".concat(API_URL,\"/\").concat(id),{method:'DELETE'}).then(res=>{if(res.ok)setProducts(products.filter(p=>p.id!==id));});};const handleEdit=(id,name,productId,image,stock)=>{setEditId(id);setEditName(name);setEditProductId(productId);setEditStock(stock);};const handleSave=id=>{const product=products.find(p=>p.id===id);fetch(\"\".concat(API_URL,\"/\").concat(id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:editName,productId:editProductId,image:product.image,stock:Number(editStock)})}).then(res=>{if(res.ok){setProducts(products.map(p=>p.id===id?_objectSpread(_objectSpread({},p),{},{name:editName,productId:editProductId,stock:editStock}):p));setEditId(null);setEditName(\"\");setEditProductId(\"\");setEditStock(\"\");}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-center\",children:\"Manage Products\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Product ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:editId===product.id?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editName,onChange:e=>setEditName(e.target.value),className:\"border px-2 py-1 rounded w-32\"}):product.name}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:editId===product.id?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editProductId,onChange:e=>setEditProductId(e.target.value),className:\"border px-2 py-1 rounded w-24\"}):product.productId}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:editId===product.id?/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editStock,onChange:e=>setEditStock(e.target.value),className:\"border px-2 py-1 rounded w-20\"}):product.stock}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2 space-x-2\",children:[editId===product.id?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSave(product.id),className:\"bg-green-500 text-white px-2 py-1 rounded\",children:\"Save\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(product.id,product.name,product.productId,product.image,product.stock),className:\"bg-blue-500 text-white px-2 py-1 rounded\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(product.id),className:\"bg-red-500 text-white px-2 py-1 rounded\",children:\"Delete\"})]})]},product.id))})]}),products.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 mt-6\",children:\"No products found.\"})]});};export default AdminProducts;","map":{"version":3,"names":["React","useState","useEffect","FaEdit","jsx","_jsx","jsxs","_jsxs","API_URL","AdminProducts","products","setProducts","editId","setEditId","editStock","setEditStock","editName","setEditName","editProductId","setEditProductId","fetch","then","res","json","data","handleDelete","id","concat","method","ok","filter","p","handleEdit","name","productId","image","stock","handleSave","product","find","headers","body","JSON","stringify","Number","map","_objectSpread","className","children","type","value","onChange","e","target","onClick","length"],"sources":["C:/Users/ksath/OneDrive/Desktop/react/AI-Agent-for-Time-Series/frontend/src/components/AdminProducts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FaEdit } from \"react-icons/fa\";\r\n\r\nconst API_URL = 'http://localhost:8000/api/products';\r\n\r\nconst AdminProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [editId, setEditId] = useState(null);\r\n  const [editStock, setEditStock] = useState('');\r\n  const [editName, setEditName] = useState(\"\");\r\n  const [editProductId, setEditProductId] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetch(API_URL)\r\n      .then((res) => res.json())\r\n      .then((data) => setProducts(data));\r\n  }, []);\r\n\r\n  const handleDelete = (id) => {\r\n    fetch(`${API_URL}/${id}`, { method: 'DELETE' }).then((res) => {\r\n      if (res.ok) setProducts(products.filter((p) => p.id !== id));\r\n    });\r\n  };\r\n\r\n  const handleEdit = (id, name, productId, image, stock) => {\r\n    setEditId(id);\r\n    setEditName(name);\r\n    setEditProductId(productId);\r\n    setEditStock(stock);\r\n  };\r\n\r\n  const handleSave = (id) => {\r\n    const product = products.find((p) => p.id === id);\r\n    fetch(`${API_URL}/${id}`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        name: editName,\r\n        productId: editProductId,\r\n        image: product.image,\r\n        stock: Number(editStock)\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        setProducts(\r\n          products.map((p) =>\r\n            p.id === id\r\n              ? { ...p, name: editName, productId: editProductId, stock: editStock }\r\n              : p\r\n          )\r\n        );\r\n        setEditId(null);\r\n        setEditName(\"\");\r\n        setEditProductId(\"\");\r\n        setEditStock(\"\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-8 max-w-2xl mx-auto\">\r\n      <h2 className=\"text-2xl font-bold mb-6 text-center\">Manage Products</h2>\r\n      <table className=\"w-full border\">\r\n        <thead>\r\n          <tr className=\"bg-gray-200\">\r\n            <th className=\"p-2\">Name</th>\r\n            <th className=\"p-2\">Product ID</th>\r\n            <th className=\"p-2\">Stock</th>\r\n            <th className=\"p-2\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map((product) => (\r\n            <tr key={product.id} className=\"border-t\">\r\n              <td className=\"p-2\">\r\n                {editId === product.id ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editName}\r\n                    onChange={(e) => setEditName(e.target.value)}\r\n                    className=\"border px-2 py-1 rounded w-32\"\r\n                  />\r\n                ) : (\r\n                  product.name\r\n                )}\r\n              </td>\r\n              <td className=\"p-2\">\r\n                {editId === product.id ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editProductId}\r\n                    onChange={(e) => setEditProductId(e.target.value)}\r\n                    className=\"border px-2 py-1 rounded w-24\"\r\n                  />\r\n                ) : (\r\n                  product.productId\r\n                )}\r\n              </td>\r\n              <td className=\"p-2\">\r\n                {editId === product.id ? (\r\n                  <input\r\n                    type=\"number\"\r\n                    value={editStock}\r\n                    onChange={(e) => setEditStock(e.target.value)}\r\n                    className=\"border px-2 py-1 rounded w-20\"\r\n                  />\r\n                ) : (\r\n                  product.stock\r\n                )}\r\n              </td>\r\n              <td className=\"p-2 space-x-2\">\r\n                {editId === product.id ? (\r\n                  <button\r\n                    onClick={() => handleSave(product.id)}\r\n                    className=\"bg-green-500 text-white px-2 py-1 rounded\"\r\n                  >\r\n                    Save\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => handleEdit(product.id, product.name, product.productId, product.image, product.stock)}\r\n                    className=\"bg-blue-500 text-white px-2 py-1 rounded\"\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                )}\r\n                <button\r\n                  onClick={() => handleDelete(product.id)}\r\n                  className=\"bg-red-500 text-white px-2 py-1 rounded\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      {products.length === 0 && (\r\n        <div className=\"text-center text-gray-500 mt-6\">No products found.</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminProducts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}